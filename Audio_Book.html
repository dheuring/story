<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Audio Book - Beyond the Childhood Bubble: Listen to the complete memoir">
    <title>Audio Book ‚Äì Beyond the Childhood Bubble</title>
    <style>
        :root {
            --primary-blue: #557699;
            --secondary-blue: #6b8e99;
            --text-dark: #2c2c2c;
            --text-light: #444;
            --text-lighter: #666;
            --text-muted: #888;
            --bg-gradient-start: #f5f7fa;
            --bg-gradient-end: #e8eef3;
            --white: #ffffff;
            --success-green: #4caf50;
            --shadow-sm: 0 2px 8px rgba(0,0,0,.08);
            --shadow-md: 0 4px 15px rgba(0,0,0,.1);
            --shadow-lg: 0 8px 25px rgba(0,0,0,.15);
            --border-accent: #6b8e99;
            --spacing-xs: 8px;
            --spacing-sm: 16px;
            --spacing-md: 24px;
            --spacing-lg: 40px;
            --spacing-xl: 60px;
            --font-body: 'Georgia', serif;
            --font-heading: 'Avenir Next', 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            --line-height: 1.8;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: var(--font-body);
            line-height: var(--line-height);
            color: var(--text-dark);
            background: linear-gradient(135deg, var(--bg-gradient-start) 0%, var(--bg-gradient-end) 100%);
            min-height: 100vh;
        }
        
        .header {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--secondary-blue) 100%);
            padding: var(--spacing-xl) var(--spacing-md) 80px;
            text-align: center;
            box-shadow: var(--shadow-md);
        }
        
        .header-content {
            max-width: 900px;
            margin: 0 auto;
            color: var(--white);
        }
        
        .header-content * {
            font-family: var(--font-heading);
        }

        .book-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
            line-height: 1.2;
        }
        
        .author-name {
            font-size: 1.3rem;
            font-weight: 500;
            font-style: italic;
            opacity: 0.95;
        }

        .profile-wrapper {
            max-width: 800px;
            margin: -50px auto 0;
            padding: 0 var(--spacing-md);
            position: relative;
            z-index: 10;
        }

        .profile-card {
            background: var(--white);
            border-radius: 12px;
            padding: var(--spacing-sm) var(--spacing-md);
            box-shadow: var(--shadow-lg);
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
        }

        .profile-image {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid var(--white);
            box-shadow: var(--shadow-md);
            flex-shrink: 0;
        }

        .profile-caption {
            color: var(--text-light);
            font-size: 0.9rem;
            line-height: 1.5;
            font-style: italic;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: var(--spacing-lg) var(--spacing-md) var(--spacing-xl);
        }

        .stats-bar {
            background: var(--white);
            border-radius: 8px;
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-lg);
            box-shadow: var(--shadow-sm);
            display: flex;
            justify-content: space-around;
            align-items: center;
            flex-wrap: wrap;
            gap: var(--spacing-md);
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-family: var(--font-heading);
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary-blue);
            display: block;
        }

        .stat-label {
            font-size: 0.85rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .play-all-container {
            text-align: center;
            margin-bottom: var(--spacing-lg);
        }

        .play-all-button {
            display: inline-flex;
            align-items: center;
            gap: var(--spacing-sm);
            padding: 16px 40px;
            background: linear-gradient(135deg, var(--secondary-blue) 0%, var(--primary-blue) 100%);
            color: var(--white);
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            box-shadow: var(--shadow-md);
            transition: all 0.3s ease;
            font-family: var(--font-heading);
        }

        .play-all-button:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
            background: linear-gradient(135deg, #5e808a 0%, #4a6c8e 100%);
        }

        .play-all-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        
        .audio-list {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-md);
        }
        
        .audio-card {
            background: var(--white);
            padding: var(--spacing-md);
            border-radius: 8px;
            box-shadow: var(--shadow-sm);
            transition: all 0.3s ease;
            border-left: 5px solid transparent;
            position: relative;
        }

        .audio-card.completed {
            border-left: 5px solid var(--success-green);
        }

        .audio-card.playing {
            border-left: 5px solid var(--primary-blue);
            box-shadow: var(--shadow-md);
        }
        
        .audio-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .completed-badge {
            position: absolute;
            top: var(--spacing-sm);
            right: var(--spacing-sm);
            background: var(--success-green);
            color: var(--white);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: none;
        }

        .audio-card.completed .completed-badge {
            display: block;
        }
        
        .audio-header {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            margin-bottom: var(--spacing-xs);
        }
        
        .audio-icon {
            font-size: 1.5rem;
            color: var(--primary-blue);
            flex-shrink: 0;
        }
        
        .audio-card h3 {
            font-family: var(--font-heading);
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--primary-blue);
        }
        
        .chapter-title {
            font-size: 1.1rem;
            font-weight: 500;
            color: var(--text-light);
            line-height: 1.4;
            margin-bottom: var(--spacing-xs);
            padding-left: 40px;
        }

        .chapter-duration {
            font-size: 0.9rem;
            color: var(--text-muted);
            font-style: italic;
            padding-left: 40px;
            margin-bottom: var(--spacing-sm);
        }

        .listen-label {
            font-family: var(--font-heading);
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--secondary-blue);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: var(--spacing-xs);
            padding-left: 40px;
        }

        .audio-player {
            width: 100%;
            margin-top: var(--spacing-xs);
            background: #f0f0f0;
            border-radius: 4px;
        }
        
        .back-container {
            text-align: center;
            margin-top: var(--spacing-lg);
        }
        
        .back-button {
            display: inline-flex;
            align-items: center;
            gap: var(--spacing-xs);
            padding: 16px 40px;
            background: linear-gradient(135deg, var(--secondary-blue) 0%, var(--primary-blue) 100%);
            color: var(--white);
            text-decoration: none;
            font-size: 1.1rem;
            font-weight: 600;
            border-radius: 8px;
            box-shadow: var(--shadow-md);
            transition: all 0.3s ease;
            font-family: var(--font-heading);
        }
        
        .back-button:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
            background: linear-gradient(135deg, #5e808a 0%, #4a6c8e 100%);
        }
        
        @media (max-width: 640px) {
            .header {
                padding: var(--spacing-lg) var(--spacing-sm) 70px;
            }
            
            .book-title {
                font-size: 2rem;
            }
            
            .author-name {
                font-size: 1.1rem;
            }

            .profile-wrapper {
                margin-top: -45px;
            }

            .profile-card {
                flex-direction: column;
                text-align: center;
            }

            .profile-image {
                width: 70px;
                height: 70px;
            }

            .stats-bar {
                flex-direction: column;
                gap: var(--spacing-sm);
            }

            .stat-item {
                width: 100%;
            }

            .audio-card {
                padding: var(--spacing-sm);
            }
            
            .audio-card h3 {
                font-size: 1.2rem;
            }

            .audio-icon {
                font-size: 1.2rem;
            }

            .chapter-title, .listen-label, .chapter-duration {
                padding-left: 30px;
            }

            .play-all-button, .back-button {
                width: 100%;
                justify-content: center;
            }

            .completed-badge {
                font-size: 0.7rem;
                padding: 3px 10px;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <h1 class="book-title">The Complete Audio Book</h1>
            <p class="author-name">Listen to all of the Chapters in Dave Heuring's Memoir</p>
        </div>
    </header>

    <div class="profile-wrapper">
        <div class="profile-card">
            <img src="https://audio.heuring.us/microphone.png" alt="Microphone" class="profile-image">
            <p class="profile-caption">
                Enjoy the full memoir in audio form‚Äîsome passages are rendered with AI‚Äëgenerated text‚Äëto‚Äëspeech using my voice clone, while the remaining chapters are recorded by me.
            </p>
        </div>
    </div>

    <main class="container">
        <div class="stats-bar">
            <div class="stat-item">
                <span class="stat-value" id="totalChapters">12</span>
                <span class="stat-label">Total Chapters</span>
            </div>
            <div class="stat-item">
                <span class="stat-value" id="completedCount">0</span>
                <span class="stat-label">Completed</span>
            </div>
            <div class="stat-item">
                <span class="stat-value" id="totalDuration">--:--</span>
                <span class="stat-label">Total Duration</span>
            </div>
        </div>

        <div class="play-all-container">
            <button class="play-all-button" id="playAllButton">üéß Play All Chapters</button>
        </div>

        <div class="audio-list">
            <div class="audio-card" data-chapter="1">
                <div class="completed-badge">‚úì Completed</div>
                <div class="audio-header">
                    <div class="audio-icon">üéß</div>
                    <h3>Chapter 1</h3>
                </div>
                <div class="chapter-title">Deep Roots: My German Ancestry and Heritage (1952 ‚Äì 1960)</div>
                <div class="chapter-duration">Duration: Loading...</div>
                <div class="listen-label">Listen Now</div>
                <audio controls controlslist="nodownload" preload="metadata" class="audio-player" data-chapter-num="1">
                    <source src="https://audio.heuring.us/Chapter_1_audio.mp3" type="audio/mpeg">
                </audio>
            </div>

            <div class="audio-card" data-chapter="2">
                <div class="completed-badge">‚úì Completed</div>
                <div class="audio-header">
                    <div class="audio-icon">üéß</div>
                    <h3>Chapter 2</h3>
                </div>
                <div class="chapter-title">Early Life: An Idyllic and Sheltered Childhood (1952 ‚Äì 1966)</div>
                <div class="chapter-duration">Duration: Loading...</div>
                <div class="listen-label">Listen Now</div>
                <audio controls controlslist="nodownload" preload="metadata" class="audio-player" data-chapter-num="2">
                    <source src="https://audio.heuring.us/Chapter_2_audio.mp3" type="audio/mpeg">
                </audio>
            </div>

            <div class="audio-card" data-chapter="3">
                <div class="completed-badge">‚úì Completed</div>
                <div class="audio-header">
                    <div class="audio-icon">üéß</div>
                    <h3>Chapter 3</h3>
                </div>
                <div class="chapter-title">Navigating Two Worlds: Catholic and Public School Life (1966 ‚Äì 1970)</div>
                <div class="chapter-duration">Duration: Loading...</div>
                <div class="listen-label">Listen Now</div>
                <audio controls controlslist="nodownload" preload="metadata" class="audio-player" data-chapter-num="3">
                    <source src="https://audio.heuring.us/Chapter_3_audio.mp3" type="audio/mpeg">
                </audio>
            </div>

            <div class="audio-card" data-chapter="4">
                <div class="completed-badge">‚úì Completed</div>
                <div class="audio-header">
                    <div class="audio-icon">üéß</div>
                    <h3>Chapter 4</h3>
                </div>
                <div class="chapter-title">Wake-up Call: The Air Force Years (1970 ‚Äì 1973)</div>
                <div class="chapter-duration">Duration: Loading...</div>
                <div class="listen-label">Listen Now</div>
                <audio controls controlslist="nodownload" preload="metadata" class="audio-player" data-chapter-num="4">
                    <source src="https://audio.heuring.us/Chapter_4_audio.mp3" type="audio/mpeg">
                </audio>
            </div>

            <div class="audio-card" data-chapter="5">
                <div class="completed-badge">‚úì Completed</div>
                <div class="audio-header">
                    <div class="audio-icon">üéß</div>
                    <h3>Chapter 5</h3>
                </div>
                <div class="chapter-title">From Collapse to Clarity: The Path That Found Me (1974 ‚Äì 1979)</div>
                <div class="chapter-duration">Duration: Loading...</div>
                <div class="listen-label">Listen Now</div>
                <audio controls controlslist="nodownload" preload="metadata" class="audio-player" data-chapter-num="5">
                    <source src="https://audio.heuring.us/Chapter_5_audio.mp3" type="audio/mpeg">
                </audio>
            </div>

            <div class="audio-card" data-chapter="6">
                <div class="completed-badge">‚úì Completed</div>
                <div class="audio-header">
                    <div class="audio-icon">üéß</div>
                    <h3>Chapter 6</h3>
                </div>
                <div class="chapter-title">First Step of the Plan: Building the Foundation (1979 ‚Äì 1984)</div>
                <div class="chapter-duration">Duration: Loading...</div>
                <div class="listen-label">Listen Now</div>
                <audio controls controlslist="nodownload" preload="metadata" class="audio-player" data-chapter-num="6">
                    <source src="https://audio.heuring.us/Chapter_6_audio.mp3" type="audio/mpeg">
                </audio>
            </div>

            <div class="audio-card" data-chapter="7">
                <div class="completed-badge">‚úì Completed</div>
                <div class="audio-header">
                    <div class="audio-icon">üéß</div>
                    <h3>Chapter 7</h3>
                </div>
                <div class="chapter-title">Life as an Expat: Adjusting to a Muslim Country (1984 ‚Äì 1987)</div>
                <div class="chapter-duration">Duration: Loading...</div>
                <div class="listen-label">Listen Now</div>
                <audio controls controlslist="nodownload" preload="metadata" class="audio-player" data-chapter-num="7">
                    <source src="https://audio.heuring.us/Chapter_7_audio.mp3" type="audio/mpeg">
                </audio>
            </div>

            <div class="audio-card" data-chapter="8">
                <div class="completed-badge">‚úì Completed</div>
                <div class="audio-header">
                    <div class="audio-icon">üéß</div>
                    <h3>Chapter 8</h3>
                </div>
                <div class="chapter-title">Career Leap: Opportunity and Challenges (1987 ‚Äì 1997)</div>
                <div class="chapter-duration">Duration: Loading...</div>
                <div class="listen-label">Listen Now</div>
                <audio controls controlslist="nodownload" preload="metadata" class="audio-player" data-chapter-num="8">
                    <source src="https://audio.heuring.us/Chapter_8_audio.mp3" type="audio/mpeg">
                </audio>
            </div>

            <div class="audio-card" data-chapter="9">
                <div class="completed-badge">‚úì Completed</div>
                <div class="audio-header">
                    <div class="audio-icon">üéß</div>
                    <h3>Chapter 9</h3>
                </div>
                <div class="chapter-title">Running the Show: Two Large Training Projects (1997 ‚Äì 2009)</div>
                <div class="chapter-duration">Duration: Loading...</div>
                <div class="listen-label">Listen Now</div>
                <audio controls controlslist="nodownload" preload="metadata" class="audio-player" data-chapter-num="9">
                    <source src="https://audio.heuring.us/Chapter_9_audio.mp3" type="audio/mpeg">
                </audio>
            </div>

            <div class="audio-card" data-chapter="10">
                <div class="completed-badge">‚úì Completed</div>
                <div class="audio-header">
                    <div class="audio-icon">üéß</div>
                    <h3>Chapter 10</h3>
                </div>
                <div class="chapter-title">Capstone Years: At the Top of My Game (2009 ‚Äì 2021)</div>
                <div class="chapter-duration">Duration: Loading...</div>
                <div class="listen-label">Listen Now</div>
                <audio controls controlslist="nodownload" preload="metadata" class="audio-player" data-chapter-num="10">
                    <source src="https://audio.heuring.us/Chapter_10_audio.mp3" type="audio/mpeg">
                </audio>
            </div>

            <div class="audio-card" data-chapter="11">
                <div class="completed-badge">‚úì Completed</div>
                <div class="audio-header">
                    <div class="audio-icon">üéß</div>
                    <h3>Chapter 11</h3>
                </div>
                <div class="chapter-title">Daddy Dave Round Two: The Journey Back to my Roots (2022 ‚Äì 2025)</div>
                <div class="chapter-duration">Duration: Loading...</div>
                <div class="listen-label">Listen Now</div>
                <audio controls controlslist="nodownload" preload="metadata" class="audio-player" data-chapter-num="11">
                    <source src="https://audio.heuring.us/Chapter_11_audio.mp3" type="audio/mpeg">
                </audio>
            </div>

            <div class="audio-card" data-chapter="12">
                <div class="completed-badge">‚úì Completed</div>
                <div class="audio-header">
                    <div class="audio-icon">üéß</div>
                    <h3>Chapter 12</h3>
                </div>
                <div class="chapter-title">Epilogue: Reflections, Connections and Closing Thoughts</div>
                <div class="chapter-duration">Duration: Loading...</div>
                <div class="listen-label">Listen Now</div>
                <audio controls controlslist="nodownload" preload="metadata" class="audio-player" data-chapter-num="12">
                    <source src="https://audio.heuring.us/Chapter_12_audio.mp3" type="audio/mpeg">
                </audio>
            </div>
        </div>

        <div class="back-container">
            <a href="Table-of-Contents.html" class="back-button">‚Üê Back to Table of Contents</a>
        </div>
    </main>

    <script>
        let completedChapters = new Set();
        let playAllMode = false;
        let playAllIndex = 0;
        const audioPlayers = document.querySelectorAll('.audio-player');
        const audioCards = document.querySelectorAll('.audio-card');
        const playAllButton = document.getElementById('playAllButton');

        function formatTime(seconds) {
            if (isNaN(seconds)) return '--:--';
            const hours = Math.floor(seconds / 3600);
            const mins = Math.floor((seconds % 3600) / 60);
            if (hours > 0) return `${hours}:${mins.toString().padStart(2, '0')}:00`;
            return `${mins}:00`;
        }

        function updateStats() {
            document.getElementById('completedCount').textContent = completedChapters.size;
            let totalSeconds = 0;
            audioPlayers.forEach(p => {
                if (p.duration && !isNaN(p.duration)) totalSeconds += p.duration;
            });
            if (totalSeconds > 0) {
                const h = Math.floor(totalSeconds / 3600);
                const m = Math.floor((totalSeconds % 3600) / 60);
                document.getElementById('totalDuration').textContent = `${h}h ${m}m`;
            }
        }

        function markCompleted(chapterNum) {
            completedChapters.add(chapterNum);
            const card = document.querySelector(`[data-chapter="${chapterNum}"]`);
            if (card) card.classList.add('completed');
            updateStats();
        }

        audioPlayers.forEach((player, index) => {
            const chapterNum = player.dataset.chapterNum;
            const card = player.closest('.audio-card');
            const durationEl = card.querySelector('.chapter-duration');

            player.addEventListener('loadedmetadata', () => {
                durationEl.textContent = `Duration: ${formatTime(player.duration)}`;
                updateStats();
            });

            player.addEventListener('play', () => {
                audioCards.forEach(c => c.classList.remove('playing'));
                card.classList.add('playing');
                audioPlayers.forEach(p => {
                    if (p !== player && !p.paused) p.pause();
                });
            });

            player.addEventListener('timeupdate', () => {
                const progress = (player.currentTime / player.duration) * 100;
                if (progress > 90 && !completedChapters.has(chapterNum)) {
                    markCompleted(chapterNum);
                }
            });

            player.addEventListener('ended', () => {
                markCompleted(chapterNum);
                card.classList.remove('playing');
                if (playAllMode && playAllIndex < audioPlayers.length - 1) {
                    playAllIndex++;
                    setTimeout(() => {
                        audioPlayers[playAllIndex].play();
                        audioPlayers[playAllIndex].scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }, 1000);
                } else if (playAllMode) {
                    playAllMode = false;
                    playAllButton.textContent = 'üéß Play All Chapters';
                }
            });

            player.addEventListener('pause', () => {
                if (!playAllMode) card.classList.remove('playing');
            });
        });

        playAllButton.addEventListener('click', () => {
            if (!playAllMode) {
                playAllMode = true;
                playAllIndex = 0;
                playAllButton.textContent = '‚è∏Ô∏è Stop Play All';
                const playPromise = audioPlayers[0].play();
                if (playPromise !== undefined) {
                    playPromise.then(() => {
                        audioPlayers[0].scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }).catch(() => {
                        playAllMode = false;
                        playAllButton.textContent = 'üéß Play All Chapters';
                        alert('Please click play on the first chapter to start.');
                    });
                }
            } else {
                playAllMode = false;
                playAllButton.textContent = 'üéß Play All Chapters';
                audioPlayers.forEach(p => p.pause());
                audioCards.forEach(c => c.classList.remove('playing'));
            }
        });

        updateStats();
        setTimeout(() => {
            audioPlayers.forEach(player => {
                const card = player.closest('.audio-card');
                const durationEl = card.querySelector('.chapter-duration');
                if (player.duration && !isNaN(player.duration)) {
                    durationEl.textContent = `Duration: ${formatTime(player.duration)}`;
                }
            });
            updateStats();
        }, 2000);
    </script>
</body>
</html>